"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6619],{1848:(n,i,c)=>{c.r(i),c.d(i,{assets:()=>s,contentTitle:()=>h,default:()=>g,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var e=c(5893),t=c(1151);const o={sidebar_position:2},h="Coding conventions",r={id:"ruby_on_rails/coding-conventions",title:"Coding conventions",description:'"Convention" trong Ruby On Rails, c\u0169ng nh\u01b0 trong c\xe1c ng\xf4n ng\u1eef l\u1eadp tr\xecnh kh\xe1c, \u0111\u1ec1 c\u1eadp \u0111\u1ebfn c\xe1c quy t\u1eafc v\xe0 nguy\xean t\u1eafc chu\u1ea9n m\xe0 c\xe1c l\u1eadp tr\xecnh vi\xean \u0111\u01b0\u1ee3c khuy\u1ebfn kh\xedch tu\xe2n th\u1ee7 \u0111\u1ec3 vi\u1ebft m\xe3 ngu\u1ed3n nh\u1ea5t qu\xe1n, d\u1ec5 \u0111\u1ecdc v\xe0 d\u1ec5 b\u1ea3o tr\xec.',source:"@site/docs/ruby_on_rails/coding-conventions.md",sourceDirName:"ruby_on_rails",slug:"/ruby_on_rails/coding-conventions",permalink:"/engineering-wiki/docs/ruby_on_rails/coding-conventions",draft:!1,unlisted:!1,editUrl:"https://github.com/AvengersCodeLovers/engineering-wiki/tree/main/docs/ruby_on_rails/coding-conventions.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docsSidebar",previous:{title:"Init Project, Gem ph\u1ed5 bi\u1ebfn",permalink:"/engineering-wiki/docs/ruby_on_rails/init_project"},next:{title:"Ruby on Rails v\u1edbi Docker",permalink:"/engineering-wiki/docs/ruby_on_rails/docker_with_ror"}},s={},d=[{value:"T\u1ea1i sao convention quan tr\u1ecdng?",id:"t\u1ea1i-sao-convention-quan-tr\u1ecdng",level:2},{value:"M\u1ed9t s\u1ed1 convention th\xf4ng d\u1ee5ng trong Ruby On Rails",id:"m\u1ed9t-s\u1ed1-convention-th\xf4ng-d\u1ee5ng-trong-ruby-on-rails",level:2},{value:"GEM rubocop",id:"gem-rubocop",level:2},{value:"S\u1eeda l\u1ed7i rubocop cho Metrics/AbcSize, Metrics/PerceivedComplexity",id:"s\u1eeda-l\u1ed7i-rubocop-cho-metricsabcsize-metricsperceivedcomplexity",level:2},{value:"What&#39;s next?",id:"whats-next",level:2}];function l(n){const i={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...n.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.h1,{id:"coding-conventions",children:"Coding conventions"}),"\n",(0,e.jsx)(i.p,{children:'"Convention" trong Ruby On Rails, c\u0169ng nh\u01b0 trong c\xe1c ng\xf4n ng\u1eef l\u1eadp tr\xecnh kh\xe1c, \u0111\u1ec1 c\u1eadp \u0111\u1ebfn c\xe1c quy t\u1eafc v\xe0 nguy\xean t\u1eafc chu\u1ea9n m\xe0 c\xe1c l\u1eadp tr\xecnh vi\xean \u0111\u01b0\u1ee3c khuy\u1ebfn kh\xedch tu\xe2n th\u1ee7 \u0111\u1ec3 vi\u1ebft m\xe3 ngu\u1ed3n nh\u1ea5t qu\xe1n, d\u1ec5 \u0111\u1ecdc v\xe0 d\u1ec5 b\u1ea3o tr\xec.'}),"\n",(0,e.jsx)(i.h2,{id:"t\u1ea1i-sao-convention-quan-tr\u1ecdng",children:"T\u1ea1i sao convention quan tr\u1ecdng?"}),"\n",(0,e.jsxs)(i.ol,{children:["\n",(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:"\u0110\u1ecdc m\xe3 ngu\u1ed3n d\u1ec5 d\xe0ng"}),": Khi m\u1ecdi ng\u01b0\u1eddi tu\xe2n th\u1ee7 c\xf9ng m\u1ed9t b\u1ed9 quy t\u1eafc, m\xe3 ngu\u1ed3n tr\u1edf n\xean d\u1ec5 \u0111\u1ecdc h\u01a1n \u0111\u1ed1i v\u1edbi t\u1ea5t c\u1ea3 m\u1ecdi ng\u01b0\u1eddi, kh\xf4ng ch\u1ec9 \u0111\u1ed1i v\u1edbi ng\u01b0\u1eddi vi\u1ebft m\xe3."]}),"\n",(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:"B\u1ea3o tr\xec d\u1ec5 d\xe0ng"}),": M\xe3 ngu\u1ed3n nh\u1ea5t qu\xe1n gi\xfap vi\u1ec7c b\u1ea3o tr\xec v\xe0 c\u1eadp nh\u1eadt m\xe3 d\u1ec5 d\xe0ng h\u01a1n, v\xec c\xe1c l\u1eadp tr\xecnh vi\xean kh\xe1c c\xf3 th\u1ec3 nhanh ch\xf3ng hi\u1ec3u v\xe0 ti\u1ebfp t\u1ee5c l\xe0m vi\u1ec7c tr\xean m\xe3 ngu\u1ed3n \u0111\xf3."]}),"\n",(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:"Gi\u1ea3m l\u1ed7i"}),": C\xe1c convention th\u01b0\u1eddng bao g\u1ed3m c\xe1c th\u1ef1c h\xe0nh t\u1ed1t gi\xfap gi\u1ea3m thi\u1ec3u l\u1ed7i ph\u1ed5 bi\u1ebfn v\xe0 c\u1ea3i thi\u1ec7n ch\u1ea5t l\u01b0\u1ee3ng m\xe3 ngu\u1ed3n."]}),"\n",(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:"H\u1ee3p t\xe1c t\u1ed1t h\u01a1n"}),": Khi l\xe0m vi\u1ec7c trong m\u1ed9t nh\xf3m, tu\xe2n th\u1ee7 c\xe1c convention gi\xfap m\u1ecdi ng\u01b0\u1eddi l\xe0m vi\u1ec7c hi\u1ec7u qu\u1ea3 h\u01a1n v\xe0 gi\u1ea3m thi\u1ec3u xung \u0111\u1ed9t m\xe3 ngu\u1ed3n."]}),"\n"]}),"\n",(0,e.jsx)(i.h2,{id:"m\u1ed9t-s\u1ed1-convention-th\xf4ng-d\u1ee5ng-trong-ruby-on-rails",children:"M\u1ed9t s\u1ed1 convention th\xf4ng d\u1ee5ng trong Ruby On Rails"}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:"\u0110\u1eb7t t\xean bi\u1ebfn v\xe0 ph\u01b0\u01a1ng th\u1ee9c"}),": S\u1eed d\u1ee5ng ch\u1eef c\xe1i th\u01b0\u1eddng v\xe0 d\u1ea5u g\u1ea1ch d\u01b0\u1edbi (",(0,e.jsx)(i.code,{children:"snake_case"}),") cho bi\u1ebfn v\xe0 ph\u01b0\u01a1ng th\u1ee9c. V\xed d\u1ee5: ",(0,e.jsx)(i.code,{children:"user_name"}),", ",(0,e.jsx)(i.code,{children:"calculate_total"}),"."]}),"\n",(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:"\u0110\u1eb7t t\xean l\u1edbp v\xe0 module"}),": S\u1eed d\u1ee5ng ch\u1eef c\xe1i in hoa v\xe0 vi\u1ebft li\u1ec1n c\xe1c t\u1eeb (",(0,e.jsx)(i.code,{children:"CamelCase"}),"). V\xed d\u1ee5: ",(0,e.jsx)(i.code,{children:"UserProfile"}),", ",(0,e.jsx)(i.code,{children:"ApplicationController"}),"."]}),"\n",(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:"\u0110\u1ed9 d\xe0i d\xf2ng l\u1ec7nh"}),": H\u1ea1n ch\u1ebf \u0111\u1ed9 d\xe0i m\u1ed7i d\xf2ng l\u1ec7nh (th\u01b0\u1eddng l\xe0 80 k\xfd t\u1ef1, tuy nhi\xean d\u1ef1 \xe1n th\u1ef1c t\u1ebf th\xec th\u01b0\u1eddng \u0111\u1ec3 \u0111\u1ec3 160) \u0111\u1ec3 m\xe3 ngu\u1ed3n d\u1ec5 \u0111\u1ecdc h\u01a1n."]}),"\n",(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:"S\u1eed d\u1ee5ng d\u1ea5u c\xe1ch"}),": S\u1eed d\u1ee5ng hai d\u1ea5u c\xe1ch \u0111\u1ec3 th\u1ee5t l\u1ec1 m\xe3 ngu\u1ed3n."]}),"\n",(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:"Kh\u1ed1i m\xe3"}),": S\u1eed d\u1ee5ng d\u1ea5u ngo\u1eb7c nh\u1ecdn ",(0,e.jsx)(i.code,{children:"{}"})," cho c\xe1c kh\u1ed1i m\xe3 ng\u1eafn, v\xe0 t\u1eeb kh\xf3a ",(0,e.jsx)(i.code,{children:"do...end"})," cho c\xe1c kh\u1ed1i m\xe3 d\xe0i h\u01a1n."]}),"\n",(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:"\u0110\u1ed9 ph\u1ee9c t\u1ea1p c\u1ee7a thu\u1eadt to\xe1n trong method"}),": Quy \u0111\u1ecbnh t\xe1ch nh\u1ecf method \u0111\u1ec3 d\u1ec5 \u0111\u1ecdc h\u01a1n.\n..."]}),"\n"]}),"\n",(0,e.jsx)(i.h2,{id:"gem-rubocop",children:"GEM rubocop"}),"\n",(0,e.jsx)(i.p,{children:"Rubocop l\xe0 m\u1ed9t c\xf4ng c\u1ee5 ph\xe2n t\xedch m\xe3 ngu\u1ed3n Ruby On Rails, gi\xfap ki\u1ec3m tra c\xe1c l\u1ed7i v\xe0 \u0111\u1ea3m b\u1ea3o m\xe3 ngu\u1ed3n tu\xe2n th\u1ee7 c\xe1c quy t\u1eafc nh\u1ea5t \u0111\u1ecbnh. S\u1eed d\u1ee5ng n\xf3 gi\xfap gi\u1ea3m thi\u1ec3u \u0111\xe1ng k\u1ec3 th\u1eddi gian review convention c\u0169ng nh\u01b0 s\u1ef1 thi\u1ebfu s\xf3t trong qu\xe1 tr\xecnh vi\u1ebft code."}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsxs)(i.li,{children:["\n",(0,e.jsxs)(i.p,{children:["Link gem: ",(0,e.jsx)(i.a,{href:"https://github.com/rubocop/rubocop",children:"github_rubocop"})]}),"\n"]}),"\n",(0,e.jsxs)(i.li,{children:["\n",(0,e.jsxs)(i.p,{children:["Config tham kh\u1ea3o ph\u1ed5 bi\u1ebfn t\u1ea1i ",(0,e.jsx)(i.strong,{children:"Sun"}),"* (3 file):"]}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:(0,e.jsx)(i.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:c(4460).Z+"",children:".rubocop_disabled.yml"})}),"\n",(0,e.jsx)(i.li,{children:(0,e.jsx)(i.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:c(7822).Z+"",children:".rubocop_enabled.yml"})}),"\n",(0,e.jsx)(i.li,{children:(0,e.jsx)(i.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:c(9185).Z+"",children:".rubocop.yml"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(i.h2,{id:"s\u1eeda-l\u1ed7i-rubocop-cho-metricsabcsize-metricsperceivedcomplexity",children:"S\u1eeda l\u1ed7i rubocop cho Metrics/AbcSize, Metrics/PerceivedComplexity"}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"Rubocop cung c\u1ea5p cho ch\xfang ta c\xf4ng c\u1ee5 t\u1ef1 \u0111\u1ed9ng s\u1eeda l\u1ed7i qua c\xe2u l\u1ec7nh:"}),"\n"]}),"\n",(0,e.jsx)(i.pre,{children:(0,e.jsx)(i.code,{children:" rubocop -a path_file_1 path_file_2 ...\n"})}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsxs)(i.li,{children:["\n",(0,e.jsx)(i.p,{children:"Tuy nhi\xean c\xf4ng c\u1ee5 n\xe0y kh\xf4ng th\u1ec3 t\u1ef1 \u0111\u1ed9ng s\u1eeda l\u1ed7i khi chung ta g\u1eb7p l\u1ed7i li\xean quan Metrics/AbcSize, Metrics/PerceivedComplexity. Nguy\xean nh\xe2n, v\u1ea5n \u0111\u1ec1 n\xe0y g\u1eb7p ph\u1ea3i khi method c\u1ee7a ch\xfang ta qu\xe1 d\xe0i, qu\xe1 nhi\u1ec1u \u0111o\u1ea1n x\u1eed l\xfd logic ph\u1ee9c t\u1ea1p. C\xe1ch s\u1eeda:"}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"T\xe1ch nh\u1ecf method th\xe0nh nhi\u1ec1u method con, sao cho m\u1ed7i method tr\u1edf th\xe0nh m\u1ed9t \u0111\u01a1n v\u1ecb nh\u1ecf nh\u1ea5t."}),"\n",(0,e.jsx)(i.li,{children:"C\xf3 th\u1ec3 vi\u1ebft c\xe1c method trong private ho\u1eb7c kh\xf4ng tu\u1ef3 v\xe0o logic th\u1ef1c t\u1ebf."}),"\n"]}),"\n"]}),"\n",(0,e.jsxs)(i.li,{children:["\n",(0,e.jsx)(i.p,{children:"V\xed d\u1ee5:"}),"\n"]}),"\n"]}),"\n",(0,e.jsx)(i.pre,{children:(0,e.jsx)(i.code,{children:"# bad\ndef abc\n  Records.each do |record|\n    handle_logic_1 // bi\u1ec3u th\u1ecb 1 \u0111o\u1ea1n x\u1eed l\xfd d\xe0i\n    handle_logic_2 // bi\u1ec3u th\u1ecb 1 \u0111o\u1ea1n x\u1eed l\xfd d\xe0i\n    handle_logic_3 // bi\u1ec3u th\u1ecb 1 \u0111o\u1ea1n x\u1eed l\xfd d\xe0i\n  end\nend\n\n# good\ndef abc\n  Records.each do |record|\n    method_common\n  end\nend\n\ndef method_common\n  method_logic_1\n  method_logic_2\n  method_logic_3\nend\n\nprivate\n\ndef method_logic_1\n  handle_logic_1\nend\n\ndef method_logic_2\n  handle_logic_2\nend\n\ndef method_logic_3\n  handle_logic_3\nend\n"})}),"\n",(0,e.jsx)(i.p,{children:"C\xf2n r\u1ea5t nhi\u1ec1u l\u1ed7i rubocop v\xe0 c\xe1ch s\u1eeda kh\xe1c m\xe0 ch\xfang ta c\xf3 th\u1ec3 tham kh\u1ea3o t\u1ea1i"}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:(0,e.jsx)(i.a,{href:"https://www.rubydoc.info/gems/rubocop/0.27.0/RuboCop",children:"rubydoc_gem_rubocop"})}),"\n"]}),"\n",(0,e.jsx)(i.h2,{id:"whats-next",children:"What's next?"}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsx)(i.li,{children:"Init d\u1ef1 \xe1n ROR v\xe0 c\xe1c config hay g\u1eb7p (Gem, capistrano, setting sidekiq, redis ...)"}),"\n",(0,e.jsxs)(i.li,{children:["Deploy \u0111\u01b0\u1ee3c d\u1ef1 \xe1n ROR qua c\xe1ch l\xe0m ph\u1ed5 bi\u1ebfn \u1edf ",(0,e.jsx)(i.strong,{children:"Sun"}),"*, s\u1eed d\u1ee5ng capistrano + rails_skeleton"]}),"\n"]})]})}function g(n={}){const{wrapper:i}={...(0,t.a)(),...n.components};return i?(0,e.jsx)(i,{...n,children:(0,e.jsx)(l,{...n})}):l(n)}},9185:(n,i,c)=>{c.d(i,{Z:()=>e});const e=c.p+"assets/files/.rubocop-ceeaab7373400341214bdadcafb28bd6.yml"},4460:(n,i,c)=>{c.d(i,{Z:()=>e});const e=c.p+"assets/files/.rubocop_disabled-02e5d535edbaaca440407742744ac865.yml"},7822:(n,i,c)=>{c.d(i,{Z:()=>e});const e=c.p+"assets/files/.rubocop_enabled-422a7631ad71ef47f756674a584bf90f.yml"},1151:(n,i,c)=>{c.d(i,{Z:()=>r,a:()=>h});var e=c(7294);const t={},o=e.createContext(t);function h(n){const i=e.useContext(o);return e.useMemo((function(){return"function"==typeof n?n(i):{...i,...n}}),[i,n])}function r(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:h(n.components),e.createElement(o.Provider,{value:i},n.children)}}}]);